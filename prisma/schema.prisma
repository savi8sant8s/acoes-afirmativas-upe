generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model AcoesAfirmativas {
  id Int @id @default(autoincrement())
  dataCriacao DateTime @default(now())
  datAtualizacao DateTime?
  /// Data da resposta ao google forms
  dataResposta DateTime
  /// Professor que respondeu o questionário
  professor Professor?
  /// Grupo que realiza alguma ação afirmativa
  grupo Grupo?
  /// Dimensões abordadas pelo grupo
  dimensoes Dimensao[]
}

model Dimensao {
  id Int @id @default(autoincrement())
  dataCriacao DateTime @default(now())
  datAtualizacao DateTime?
  /// Dimensão (ENSINO, EXTENSÃO, PESQUISA)
  tipo String
  /// Tipo de ações realizadas
  tiposAcoesRealizadas String
  /// Descrição das ações realizadas
  descricaoAcoesRealizadas String
  acaoAfirmativa AcoesAfirmativas @relation(fields: [acaoAfirmativaId], references: [id])
  acaoAfirmativaId Int
}

model Grupo {
  id Int @id @default(autoincrement())
  dataCriacao DateTime @default(now())
  datAtualizacao DateTime?
  /// Tipo de grupo (PESQUISA, ESTUDOS, EXTENSÃO, COLETIVO DE ESTUDANTES)
  tipo String
  /// Nome do grupo
  nome String
  /// Nome do líder do grupo
  liderNome String
  /// Email do líder do grupo
  liderEmail String
  /// Possui vínculo com o Cnpq?
  vinculoCnpq String
  /// Locais onde ocorrem as reuniões do grupo
  localReunioes String
  // Endereço das redes sociais do grupo
  redesSociais String
  /// Temáticas abordadas pelo grupo
  tematicas String
  acaoAfirmativa AcoesAfirmativas @relation(fields: [acaoAfirmativaId], references: [id])
  acaoAfirmativaId Int
}

model Professor {
  id Int @id @default(autoincrement())
  dataCriacao DateTime @default(now())
  datAtualizacao DateTime?
  /// Nome do professor
  nome String
  /// Email do professor
  email String
  /// Participa de grupos referentes a acções afirmativas?
  participaGrupoAcaoAfirmativa String
  /// Autoriza a utilização das informações fornecidas?
  autorizaUtilizacaoInformacoes String
  acaoAfirmativa AcoesAfirmativas @relation(fields: [acaoAfirmativaId], references: [id])
  acaoAfirmativaId Int
}

